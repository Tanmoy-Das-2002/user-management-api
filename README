# User Management REST API (Spring Boot + MySQL)

A RESTful User Management API built using Spring Boot and MySQL with full CRUD operations, validation, and global exception handling.

---

## Tech Stack

- Java
- Spring Boot
- Spring Web
- Spring Data JPA (Hibernate)
- MySQL
- Postman

---

## Features

- Create User
- Get All Users
- Get User by ID
- Update User (PUT)
- Delete User
- Input Validation (Bean Validation)
- Global Exception Handling with consistent JSON errors
- Proper HTTP Status Codes (201, 400, 404)

---

## API Endpoints

| Method | Endpoint        | Description       |
| ------ | --------------- | ----------------- |
| POST   | /api/users      | Create a new user |
| GET    | /api/users      | Get all users     |
| GET    | /api/users/{id} | Get user by ID    |
| PUT    | /api/users/{id} | Update user by ID |
| DELETE | /api/users/{id} | Delete user by ID |

---

## Request Examples

### Create User (POST /api/users)

Request Body:
{
"name": "Dan",
"email": "dan@test.com"
}

Success Response:

- Status: 201 Created

---

### Get All Users (GET /api/users)

Success Response:

- Status: 200 OK

---

### Get User by ID (GET /api/users/{id})

Example:

- GET /api/users/1

Success Response:

- Status: 200 OK

Error Response (Not Found):

- Status: 404 Not Found
  {
  "timestamp": "2026-01-17T19:24:28.8530479",
  "status": 404,
  "error": "User not found with id: 1",
  "path": "/api/users/1"
  }

---

### Update User (PUT /api/users/{id})

Example:

- PUT /api/users/1

Request Body:
{
"name": "Dan Updated",
"email": "dan.updated@test.com"
}

Success Response:

- Status: 200 OK

---

### Delete User (DELETE /api/users/{id})

Example:

- DELETE /api/users/1

Success Response:

- Status: 204 No Content (or 200 OK depending on implementation)

Error Response:

- Status: 404 Not Found

---

## Validation Errors (400 Bad Request)

Example invalid request:
{
"name": "",
"email": "not-an-email"
}

Response:
{
"timestamp": "2026-01-17T19:24:28.8530479",
"status": 400,
"error": "Validation failed",
"path": "/api/users",
"fieldErrors": {
"name": "Name must be 2 to 50 characters",
"email": "Email must be valid"
}
}

---

## How to Run the Project

### 1) Create MySQL Database

Run this in MySQL:
CREATE DATABASE userdb;

---

### 2) Update application.properties

Set your DB credentials:
spring.datasource.url=jdbc:mysql://localhost:3306/userdb
spring.datasource.username=root
spring.datasource.password=YOUR_PASSWORD

    spring.jpa.hibernate.ddl-auto=update
    spring.jpa.show-sql=true
    spring.jpa.properties.hibernate.format_sql=true

---

### 3) Run the Application

Run the Spring Boot main class.

Server will start at:
http://localhost:8080

---

## Testing with Postman

- Open Postman
- Test all endpoints using GET / POST / PUT / DELETE
- (Optional) Export and include the Postman Collection in this repository

---

## Future Improvements

- Add unique constraint for email
- Add pagination and sorting
- Add authentication (JWT)
- Add PATCH endpoint for partial updates
